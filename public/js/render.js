'use strict';

// Рисуем

(function () {

	function refreshComputedSizes(object) {

		canvOpts.computedStyle = {

			width: +object.width.slice(0, -2),
			height: +object.height.slice(0, -2)

		};

		canvas.setDimensions({
			width: canvOpts.computedStyle.width,
			height: canvOpts.computedStyle.height
		});
	}

	window.onresize = function () {
		refreshComputedSizes(canvasComputedStyleObj);
		canvas.renderAll.bind(canvas);
	};

	// Init

	var canvasComputedStyleObj = getComputedStyle(document.querySelectorAll('.wr')[0]);

	var canvOpts = {
		bgURL: '../img/bg-crowd-1.jpg',
		computedStyle: {
			width: +canvasComputedStyleObj.width.slice(0, -2),
			height: +canvasComputedStyleObj.height.slice(0, -2)
		}
	};

	var canvas = new fabric.StaticCanvas('game', {
		width: canvOpts.computedStyle.width,
		height: canvOpts.computedStyle.height
	});
})();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlbmRlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBRUEsQ0FBQyxZQUFVOztBQUdYLFVBQVMsb0JBQVQsQ0FBOEIsTUFBOUIsRUFBc0M7O0FBRXJDLFdBQVMsYUFBVCxHQUF5Qjs7QUFFeEIsVUFBTyxDQUFDLE9BQU8sS0FBUCxDQUFhLEtBQWIsQ0FBbUIsQ0FBbkIsRUFBcUIsQ0FBQyxDQUF0QixDQUZnQjtBQUd4QixXQUFRLENBQUMsT0FBTyxNQUFQLENBQWMsS0FBZCxDQUFvQixDQUFwQixFQUFzQixDQUFDLENBQXZCOztBQUhlLEdBQXpCOztBQU9BLFNBQU8sYUFBUCxDQUFxQjtBQUNwQixVQUFPLFNBQVMsYUFBVCxDQUF1QixLQURWO0FBRXBCLFdBQVEsU0FBUyxhQUFULENBQXVCO0FBRlgsR0FBckI7QUFLQTs7QUFFRCxRQUFPLFFBQVAsR0FBa0IsWUFBVTtBQUMzQix1QkFBcUIsc0JBQXJCO0FBQ0EsU0FBTyxTQUFQLENBQWlCLElBQWpCLENBQXNCLE1BQXRCO0FBQ0EsRUFIRDs7OztBQVlBLEtBQUkseUJBQXlCLGlCQUFpQixTQUFTLGdCQUFULENBQTBCLEtBQTFCLEVBQWlDLENBQWpDLENBQWpCLENBQTdCOztBQUVBLEtBQUksV0FBVztBQUNkLFNBQU8sdUJBRE87QUFFZCxpQkFBZTtBQUNkLFVBQU8sQ0FBQyx1QkFBdUIsS0FBdkIsQ0FBNkIsS0FBN0IsQ0FBbUMsQ0FBbkMsRUFBcUMsQ0FBQyxDQUF0QyxDQURNO0FBRWQsV0FBUSxDQUFDLHVCQUF1QixNQUF2QixDQUE4QixLQUE5QixDQUFvQyxDQUFwQyxFQUFzQyxDQUFDLENBQXZDO0FBRks7QUFGRCxFQUFmOztBQVFBLEtBQUksU0FBUyxJQUFJLE9BQU8sWUFBWCxDQUF3QixNQUF4QixFQUFnQztBQUM1QyxTQUFPLFNBQVMsYUFBVCxDQUF1QixLQURjO0FBRTVDLFVBQVEsU0FBUyxhQUFULENBQXVCO0FBRmEsRUFBaEMsQ0FBYjtBQU1DLENBL0NEIiwiZmlsZSI6InJlbmRlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vINCg0LjRgdGD0LXQvFxuXG4oZnVuY3Rpb24oKXtcblxuXG5mdW5jdGlvbiByZWZyZXNoQ29tcHV0ZWRTaXplcyhvYmplY3QpIHtcblx0XG5cdGNhbnZPcHRzLmNvbXB1dGVkU3R5bGUgPSB7XG5cblx0XHR3aWR0aDogK29iamVjdC53aWR0aC5zbGljZSgwLC0yKSxcblx0XHRoZWlnaHQ6ICtvYmplY3QuaGVpZ2h0LnNsaWNlKDAsLTIpXG5cdFxuXHR9O1xuXG5cdGNhbnZhcy5zZXREaW1lbnNpb25zKHtcblx0XHR3aWR0aDogY2Fudk9wdHMuY29tcHV0ZWRTdHlsZS53aWR0aCxcblx0XHRoZWlnaHQ6IGNhbnZPcHRzLmNvbXB1dGVkU3R5bGUuaGVpZ2h0XG5cdH0pO1xuXG59XG5cbndpbmRvdy5vbnJlc2l6ZSA9IGZ1bmN0aW9uKCl7XG5cdHJlZnJlc2hDb21wdXRlZFNpemVzKGNhbnZhc0NvbXB1dGVkU3R5bGVPYmopO1xuXHRjYW52YXMucmVuZGVyQWxsLmJpbmQoY2FudmFzKTtcbn1cblxuXG5cblxuXG5cbi8vIEluaXRcblxudmFyIGNhbnZhc0NvbXB1dGVkU3R5bGVPYmogPSBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy53cicpWzBdKTtcblxudmFyIGNhbnZPcHRzID0ge1xuXHRiZ1VSTDogJy4uL2ltZy9iZy1jcm93ZC0xLmpwZycsXG5cdGNvbXB1dGVkU3R5bGU6IHtcblx0XHR3aWR0aDogK2NhbnZhc0NvbXB1dGVkU3R5bGVPYmoud2lkdGguc2xpY2UoMCwtMiksXG5cdFx0aGVpZ2h0OiArY2FudmFzQ29tcHV0ZWRTdHlsZU9iai5oZWlnaHQuc2xpY2UoMCwtMilcblx0fVxufVxuXG52YXIgY2FudmFzID0gbmV3IGZhYnJpYy5TdGF0aWNDYW52YXMoJ2dhbWUnLCB7XG5cdHdpZHRoOiBjYW52T3B0cy5jb21wdXRlZFN0eWxlLndpZHRoLFxuXHRoZWlnaHQ6IGNhbnZPcHRzLmNvbXB1dGVkU3R5bGUuaGVpZ2h0LFxufSk7XG5cblxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
